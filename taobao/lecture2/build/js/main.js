!function(){var e=function(){t()},t=function(){lib.mtop.config.subDomain="wapa",lib.login.config.subDomain="wapa",lib.mtop.loginRequest({api:"mtop.user.getUserSimple",v:"1.0",ecode:"1"},function(e){function t(e){return 100*(e%77+e%42)}document.querySelector(".head>.user-nick").innerText=e.data.nick;var i="//wwc.alicdn.com/avatar/getAvatar.do?userId={{USERID}}&width=100&height=100&type=sns";document.querySelector(".head>.user-icon").src=i.replace("{{USERID}}",e.data.userNumId);var a=t(parseInt(e.data.userNumId,10));n(a)},function(e){alert("请求出错了:"+e.ret[0])})},n=function(e){function t(e){switch(e){case"input":r.querySelector("input").value="",r.style.display="block",o.style.display="none",c.style.display="none";break;case"succ":o.querySelector(".sub-title>span").innerText=i,r.style.display="none",o.style.display="block",c.style.display="none";break;case"fail":c.querySelector(".sub-title>span").innerText=i,c.querySelector(".title>span").innerText=a>n?"大":"小",r.style.display="none",o.style.display="none",c.style.display="block"}}var n=e,i=0,a=0,r=document.querySelector("#input-container"),c=document.querySelector("#fail-container"),o=document.querySelector("#succ-container");r.querySelector(".btn").addEventListener("click",function(){var e=parseInt(r.querySelector("input").value,10);return e?(a=e,i++,void t(Math.abs(n-e)<100?"succ":"fail")):void alert("请输入数字")}),o.querySelector(".btn").addEventListener("click",function(){var e={title:"My Game",text:document.querySelector(".user-nick").innerText+"只用了"+i+"次就猜出了TA的账号值"+n+"哦",image:"http://img0.bdstatic.com/img/image/4359213b07eca806538f43aff0495dda144ac3482d1.jpg",url:location.href};window.WindVane.call("TBSharedModule","showSharedMenu",e,function(e){alert("success: "+JSON.stringify(e))},function(e){alert("failure: "+JSON.stringify(e))})}),c.querySelector(".btn").addEventListener("click",function(){t("input")}),t("input")};document.addEventListener("DOMContentLoaded",e)}();